<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/iron-icon/iron-icon.html">

<dom-module id="profile-img">
  <style>
    :host([selected]) .profile {
      transform: rotate3d(0,1,0,180deg);
    }
    :host([selected]) img,
    :host([selected]) .letter {
      opacity: 0;
    }
    :host([selected]) iron-icon {
      transform: rotate3d(0,1,0,-180deg) scale(1);
      opacity: 1;
    }
    .profile {
      border-radius: 50%;
      width: 40px;
      height: 40px;
      transition: transform 350ms ease-in-out;
      background-color: #9e9e9e;
      color: white;
      will-change: transform;
      cursor: pointer;
    }
    img,
    .letter {
      border-radius: inherit;
      width: 100%;
      height: 100%;
      transition: opacity 200ms ease-in-out 100ms;
      will-change: opacity;
      text-transform: uppercase;
    }
    iron-icon {
      transition: transform 300ms ease-in-out 100ms;
      will-change: opacity;
      transform: rotate3d(0,1,0,-180deg) scale(0);
      position: absolute !important;
      top: 20%;
      left: 20%;
      opacity: 0;
    }
  </style>
  <template>
    <div class="profile">
      <template is="dom-if" if="[[src]]"><img src$="[[src]]"></template>
      <span class="letter layout horizontal center-center" hidden$="[[src]]">{{letter}}</span>
      <iron-icon icon="check"></iron-icon>
    </div>
  </template>
</dom-module>

<script>
  Polymer({
    is: 'profile-img',

    properties: {
      selected: {
        type: Boolean,
        value: false,
        reflectToAttribute: true
      },

      src: {
        type: String,
        value: null
      },

      letter: {
        type: String,
        value: null
      }
    }

  });
</script>
</dom-module>

